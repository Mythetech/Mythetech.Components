@using MudBlazor
@using Mythetech.Framework.Infrastructure.Commands
@using Mythetech.Framework.Infrastructure.MessageBus
@using Mythetech.Framework.Components.Dialogs
@inherits ComponentConsumer<ShowDialog>

@code {
    [Inject]
    IDialogService DialogService { get; set; } = default!;

    protected override async Task Consume(ShowDialog message, CancellationToken cancellationToken)
    {
        var result = await DialogService.ShowAsync(
            message.Dialog,
            message.Title,
            message.Parameters ?? new DialogParameters(),
            message.Options ?? MythetechDialogs.CreateDefaultOptions());

        await result.Result;
    }
}
